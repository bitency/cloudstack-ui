<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>CloudStack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
 
    <!-- Le styles -->
    <link href="{{ url_for('static', filename="bootstrap/css/bootstrap.min.css") }}" rel="stylesheet">
    <link href="{{ url_for('static', filename="bootstrap/css/bootstrap-responsive.min.css") }}" rel="stylesheet">
    <style>
      body {
        padding-top: 60px; /* 60px to make the container go all the way to the bottom of the topbar */
      }
    </style>
 
    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
 
</head>
 
<body>
 
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="#">CloudStack</a>
                <div class="nav-collapse">
                    <ul class="nav">
                        <li id="users"><a href="#users">Users</a></li>
                        <li id="virtualmachines"><a href="#virtualmachines">Virtual Machines</a></li>
                        <li id="events"><a href="#events">Events</a></li>
                        <li id="configurations"><a href="#configurations">Configurations</a></li>
                        <li id="networks"><a href="#networks">Networks</a></li>
                        <li id="serviceofferings"><a href="#serviceofferings">Service Offerings</a></li>
                        <li id="zone"><a href="#zones">Zones</a></li>
                    </ul>
                </div><!--/.nav-collapse -->
            </div>
        </div>
    </div>
 
    <div class="container">
 
        <div class="row">
            <div class="span12">
                <div id="main">
                    <!--Content inserted dynamically here -->
                </div>
            </div>
        </div>
 
    </div> <!-- /container -->
 
<!-- Le javascript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script type="text/template" id="home">
        <div style="text-align:center">
            <img src="http://cloudstack.apache.org/images/cloudmonkey-fp.png" style="margin-top: 100px;margin-bottom: 100px;" alt="CloudStack Logo">
            <h1>CloudStack UI using Backbone.js and Twitter Bootstrap</h1>
        </div>
    </script>
    <script type="text/template" id="table">
        <table class="table table-striped table-bordered">
            <thead><tr>
                <%_.each(collection.attributeNames, function(value, key){ %>
                    <th><%=value%></th>
                <% });%>
                <%= collection.editable?"<th> Actions </th>":"" %>
            </tr></thead>
            <tbody>
                <%_.each(collection.models,function(item){ %>
                    <tr>
                        <%_.each(collection.attributeNames, function(value, key) { %>
                            <td><%=item.get(key)%></td>
                        <% });%>
                        <%= collection.editable?'<td><a class="btn" href="#edit/' + item.get("id") +'">Edit</a></td>':"" %>
                    </tr>
                <%}) %>
            </tbody>
        </table>
    </script>
    <script type="text/template" id="form">
        <form class="form-horizontal" id="updateform">
            <fieldset>
            <legend>User Details</legend>
            <%_.each(model.responsemap, function(value, key) { %>
                <div class="control-group">
                    <label class="control-label" for="input01"><%=key%></label>
                    <div class="controls">
                        <input type="text" class="input-xxlarge" id=<%=value%> name=<%=value%> <%=model.get(value)?"value="+model.get(value):" "%> 
                        <%= model.editable.indexOf(value) == -1? " readonly":""%> width="auto">
                    </div>
                </div>
                <%
            })%>

            <div class="control-group">
                <label class="control-label" for="input01"></label>
                <div class="controls">
                    <button id="submit" class="btn btn-success" type="button">Update Details</button>
                </div>
            </div>
            </fieldset>
        </form>

    </script>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename="bootstrap/js/bootstrap.min.js") }}"></script>
    <script type="text/javascript" src="http://underscorejs.org/underscore-min.js"></script>
    <script type="text/javascript" src="http://documentcloud.github.io/backbone/backbone-min.js"></script>
    <script type="text/javascript" src="{{ url_for('static', filename="js/app.js") }}"></script>
	<script type="text/javascript" src="http://jzaefferer.github.com/jquery-validation/jquery.validate.js"></script>
</body>
</html>
<!--
Form validation, not working, debug later
        <%='<script type="text/javascript">'%>
            <%='$(document).ready(function(){'%>
                <%="$('updateform').validate({"%>
                <%="rules: {"%>
                        <% _.each(model.required, function(item){ %>
                            <%=item+": required"%>
                        <%})%>
                <%="}"%>
                <%='errorClass: "help-inline",'%>
                <%='errorElement: "span",'%>
                <%='highlight:function(element, errorClass, validClass) {'%>
                    <%="$(element).parents('.control-group').addClass('error');"%>
                <%="},"%>
                <%="unhighlight: function(element, errorClass, validClass) {"%>
                <%="$(element).parents('.control-group').removeClass('error');"%>
                <%="$(element).parents('.control-group').addClass('success');"%>
                <%="}});});"%>
                <%="</script" + ">"%>*/
-->
